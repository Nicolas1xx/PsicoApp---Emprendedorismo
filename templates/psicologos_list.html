{% extends "base.html" %}

{% block content %}
<h1 class="text-4xl font-bold text-gray-900 mb-8 border-b pb-2">Nossos PsicÃ³logos Certificados</h1>

<section class="bg-white p-6 rounded-xl shadow-xl mb-10 border border-gray-100">
    <h2 class="text-xl font-semibold text-psico-azul mb-4">Encontre o Profissional Ideal</h2>
    <form method="POST" action="{{ url_for('psicologos_list') }}" class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
        
        <div>
            <label for="genero" class="block text-sm font-medium text-gray-600">PreferÃªncia de GÃªnero</label>
            <select id="genero" name="genero" class="mt-1 block w-full pl-3 pr-10 py-2 border-gray-300 rounded-lg focus:ring-psico-verde focus:border-psico-verde sm:text-sm">
                <option value="Indiferente">Indiferente</option>
                <option value="F">Feminino (Mulher)</option>
                <option value="M">Masculino (Homem)</option>
            </select>
        </div>
        
        <div>
            <label for="foco" class="block text-sm font-medium text-gray-600">Foco de Atendimento</label>
            <input type="text" id="foco" name="foco" placeholder="Ansiedade, Luto..." class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-psico-verde focus:ring-psico-verde sm:text-sm p-2">
        </div>
        
        <div>
            <label for="linha" class="block text-sm font-medium text-gray-600">Linha TeÃ³rica</label>
            <input type="text" id="linha" name="linha" placeholder="TCC, PsicanÃ¡lise..." class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-psico-verde focus:ring-psico-verde sm:text-sm p-2">
        </div>

        <button type="submit" class="w-full bg-psico-azul text-white font-semibold py-2.5 px-4 rounded-lg shadow-md hover:bg-psico-verde transition duration-300">
            Filtrar Profissionais
        </button>
    </form>
</section>

<section>
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        {% for psicologo in psicologos %}
        <div class="bg-white p-6 rounded-xl shadow-lg flex space-x-6 border-l-4 border-psico-verde hover:shadow-2xl transition duration-300">
            
            <div class="flex-shrink-0 text-center">
                <img src="{{ psicologo.avatar }}" alt="Foto de {{ psicologo.nome }}" class="w-28 h-28 rounded-full object-cover mb-2 border-4 border-psico-azul/30">
                <span class="text-xs font-semibold px-3 py-1 rounded-full bg-psico-verde/10 text-psico-verde">
                    R$ {{ "%.2f"|format(psicologo.valorSessao) }}
                </span>
            </div>
            
            <div class="flex-grow flex flex-col justify-between">
                <div>
                    <h3 class="text-2xl font-bold text-gray-900">{{ psicologo.nome }}</h3>
                    <p class="text-sm text-psico-azul font-medium mb-3">{{ psicologo.tags | join(' | ') }}</p>
                    <p class="text-gray-500 text-sm">{{ psicologo.descricaoCurta }}</p>
                </div>
                
                <div class="pt-4 mt-4 border-t border-gray-100 flex justify-end">
                    <a href="{{ url_for('agendamento', psicologo_doc_id=psicologo.id) }}" class="bg-psico-azul text-white font-semibold py-2 px-6 rounded-full hover:bg-psico-verde transition duration-300 shadow-md">
                        Agendar
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    {% if not psicologos %}
        <p class="text-center text-xl text-gray-500 py-12 bg-white rounded-xl shadow-lg">ðŸ˜” NÃ£o encontramos profissionais compatÃ­veis. Tente uma busca mais ampla.</p>
    {% endif %}
</section>

{% endblock %}